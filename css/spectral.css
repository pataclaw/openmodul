/* spectral.css â€” Spectral freezer / vocoder
   Northern lights. Frozen frequencies. Wavetable keys. */

/* === SKIN VARIABLES === */
.skin-aurora {
  --sp-bg: #060a10;
  --sp-display: #040810;
  --sp-accent: #40d8d0;
  --sp-accent2: #a060ff;
  --sp-text: #608090;
  --sp-text-bright: #a0d0d0;
  --sp-toolbar: #080c14;
  --sp-toolbar-border: #142028;
  --sp-btn: #0c1420;
  --sp-btn-hover: #142030;
  --sp-btn-active: #1a2840;
  --sp-freeze: #ff4080;
  --sp-key-white: #0c1824;
  --sp-key-white-active: #1a3848;
  --sp-key-black: #060c14;
  --sp-key-black-active: #102030;
  --sp-bar1: rgba(64, 216, 208, 0.8);
  --sp-bar2: rgba(100, 140, 255, 0.8);
  --sp-bar3: rgba(160, 96, 255, 0.8);
}

.skin-solar {
  --sp-bg: #100806;
  --sp-display: #0c0604;
  --sp-accent: #ff8040;
  --sp-accent2: #ff4060;
  --sp-text: #a08070;
  --sp-text-bright: #d0a890;
  --sp-toolbar: #120a08;
  --sp-toolbar-border: #281810;
  --sp-btn: #1a1008;
  --sp-btn-hover: #281810;
  --sp-btn-active: #382818;
  --sp-freeze: #ff4040;
  --sp-key-white: #1a1008;
  --sp-key-white-active: #2a1c10;
  --sp-key-black: #0c0804;
  --sp-key-black-active: #1a1008;
  --sp-bar1: rgba(255, 128, 64, 0.8);
  --sp-bar2: rgba(255, 80, 60, 0.8);
  --sp-bar3: rgba(255, 200, 60, 0.8);
}

.skin-void {
  --sp-bg: #0a0a0a;
  --sp-display: #060606;
  --sp-accent: #e0e0e0;
  --sp-accent2: #808080;
  --sp-text: #606060;
  --sp-text-bright: #a0a0a0;
  --sp-toolbar: #0e0e0e;
  --sp-toolbar-border: #1a1a1a;
  --sp-btn: #141414;
  --sp-btn-hover: #1e1e1e;
  --sp-btn-active: #282828;
  --sp-freeze: #ffffff;
  --sp-key-white: #141414;
  --sp-key-white-active: #222222;
  --sp-key-black: #0a0a0a;
  --sp-key-black-active: #181818;
  --sp-bar1: rgba(224, 224, 224, 0.8);
  --sp-bar2: rgba(160, 160, 160, 0.8);
  --sp-bar3: rgba(200, 200, 200, 0.8);
}

/* === BODY === */
#spectral-body {
  background: var(--sp-bg);
  display: flex;
  flex-direction: column;
  min-height: 500px;
  border-radius: 8px;
  overflow: hidden;
  user-select: none;
}

/* === TOOLBAR === */
.sp-toolbar {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 14px;
  background: var(--sp-toolbar);
  border-bottom: 1px solid var(--sp-toolbar-border);
  flex-shrink: 0;
  flex-wrap: wrap;
}

.sp-brand {
  font-family: 'SF Mono', 'Cascadia Code', 'Fira Code', 'Consolas', monospace;
  font-size: 12px;
  font-weight: 700;
  letter-spacing: 2px;
  color: var(--sp-accent);
  text-transform: uppercase;
  white-space: nowrap;
}

.sp-toolbar-group {
  display: flex;
  align-items: center;
  gap: 4px;
}

.sp-label {
  font-family: 'SF Mono', 'Cascadia Code', 'Fira Code', 'Consolas', monospace;
  font-size: 9px;
  font-weight: 600;
  letter-spacing: 1.5px;
  color: var(--sp-text);
  text-transform: uppercase;
  white-space: nowrap;
}

.sp-toolbar input[type="range"] {
  width: 55px;
  height: 4px;
  accent-color: var(--sp-accent);
  cursor: pointer;
}

.sp-toolbar-spacer {
  flex: 1;
}

.sp-hidden {
  display: none;
}

/* Source buttons */
.sp-source-btn {
  font-family: 'SF Mono', 'Cascadia Code', 'Fira Code', 'Consolas', monospace;
  font-size: 9px;
  font-weight: 700;
  letter-spacing: 1px;
  color: var(--sp-text);
  background: var(--sp-btn);
  border: 1px solid var(--sp-toolbar-border);
  border-radius: 3px;
  padding: 4px 8px;
  cursor: pointer;
  transition: background 0.15s, color 0.15s;
}

.sp-source-btn:hover {
  background: var(--sp-btn-hover);
  color: var(--sp-text-bright);
}

.sp-source-btn.active {
  background: var(--sp-btn-active);
  color: var(--sp-accent);
  border-color: var(--sp-accent);
}

/* Freeze button */
.sp-freeze-btn {
  font-family: 'SF Mono', 'Cascadia Code', 'Fira Code', 'Consolas', monospace;
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 2px;
  color: var(--sp-freeze);
  background: transparent;
  border: 2px solid var(--sp-freeze);
  border-radius: 4px;
  padding: 4px 14px;
  cursor: pointer;
  transition: background 0.15s, color 0.15s;
}

.sp-freeze-btn:hover {
  background: var(--sp-freeze);
  color: #fff;
}

.sp-freeze-btn.frozen {
  background: var(--sp-freeze);
  color: #fff;
  animation: sp-pulse 2s ease-in-out infinite;
}

@keyframes sp-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

/* Skin selector */
.sp-skin-selector {
  display: flex;
  align-items: center;
  gap: 5px;
}

.sp-skin-label {
  font-family: 'SF Mono', 'Cascadia Code', 'Fira Code', 'Consolas', monospace;
  font-size: 9px;
  font-weight: 600;
  letter-spacing: 1.5px;
  color: var(--sp-text);
  text-transform: uppercase;
}

.sp-skin-btn {
  width: 14px;
  height: 14px;
  border-radius: 50%;
  border: 2px solid transparent;
  cursor: pointer;
  transition: border-color 0.15s;
}

.sp-skin-btn[data-skin="aurora"] { background: #40d8d0; }
.sp-skin-btn[data-skin="solar"] { background: #ff8040; }
.sp-skin-btn[data-skin="void"] { background: #c0c0c0; }

.sp-skin-btn.active {
  border-color: rgba(255,255,255,0.5);
}

.sp-skin-btn:hover {
  border-color: rgba(255,255,255,0.3);
}

/* === FFT DISPLAY === */
.sp-display {
  flex: 1;
  position: relative;
  background: var(--sp-display);
  min-height: 300px;
  overflow: hidden;
}

#sp-canvas {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  display: block;
}

.sp-freeze-label {
  position: absolute;
  top: 10px;
  right: 12px;
  font-family: 'SF Mono', 'Cascadia Code', 'Fira Code', 'Consolas', monospace;
  font-size: 9px;
  font-weight: 700;
  letter-spacing: 2px;
  color: var(--sp-accent);
  opacity: 0.5;
  pointer-events: none;
}

.sp-freeze-label.frozen {
  color: var(--sp-freeze);
  opacity: 1;
}

/* === KEYBOARD === */
.sp-keyboard {
  display: flex;
  height: 80px;
  background: var(--sp-bg);
  border-top: 1px solid var(--sp-toolbar-border);
  position: relative;
  flex-shrink: 0;
}

.sp-key {
  flex: 1;
  position: relative;
  border-right: 1px solid rgba(255,255,255,0.03);
  cursor: pointer;
  transition: background 0.08s;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  padding-bottom: 6px;
}

.sp-key-white {
  background: var(--sp-key-white);
}

.sp-key-white.active {
  background: var(--sp-key-white-active);
}

.sp-key-black {
  background: var(--sp-key-black);
}

.sp-key-black.active {
  background: var(--sp-key-black-active);
}

.sp-key-label {
  font-family: 'SF Mono', 'Cascadia Code', 'Fira Code', 'Consolas', monospace;
  font-size: 8px;
  color: var(--sp-text);
  opacity: 0.4;
  pointer-events: none;
}

.sp-key.active .sp-key-label {
  color: var(--sp-accent);
  opacity: 0.8;
}

/* === MOBILE === */
@media (max-width: 768px) {
  .sp-toolbar {
    padding: 6px 10px;
    gap: 6px;
  }

  .sp-brand {
    font-size: 10px;
  }

  .sp-toolbar input[type="range"] {
    width: 40px;
  }

  .sp-display {
    min-height: 200px;
  }

  .sp-keyboard {
    height: 60px;
  }

  .sp-skin-selector {
    display: none;
  }
}
