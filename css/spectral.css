/* spectral.css â€” Spectral freezer / vocoder
   Breakbeat punk. 3D plastic blocks. Acid / Chrome / Noise skins. */

/* === SKIN VARIABLES === */
.skin-acid {
  --sp-bg: #0a0a0a;
  --sp-display: #080808;
  --sp-accent: #ff2080;
  --sp-accent2: #40ff80;
  --sp-text: #90506a;
  --sp-text-bright: #e080a0;
  --sp-toolbar: #0e0a0c;
  --sp-toolbar-border: #2a1420;
  --sp-btn: #1a0c14;
  --sp-btn-hover: #28141e;
  --sp-btn-active: #3a1c2a;
  --sp-freeze: #40ff80;
  --sp-key-white: #140c10;
  --sp-key-white-active: #2a1420;
  --sp-key-black: #0a0608;
  --sp-key-black-active: #1a0c14;
}

.skin-chrome {
  --sp-bg: #080808;
  --sp-display: #060606;
  --sp-accent: #4080ff;
  --sp-accent2: #c0c8d0;
  --sp-text: #607090;
  --sp-text-bright: #90a8c0;
  --sp-toolbar: #0a0c10;
  --sp-toolbar-border: #182030;
  --sp-btn: #0c1018;
  --sp-btn-hover: #141c28;
  --sp-btn-active: #1e2838;
  --sp-freeze: #c0d0ff;
  --sp-key-white: #0c1018;
  --sp-key-white-active: #1a2438;
  --sp-key-black: #060810;
  --sp-key-black-active: #101820;
}

.skin-noise {
  --sp-bg: #0a0808;
  --sp-display: #080606;
  --sp-accent: #ff4040;
  --sp-accent2: #ffffff;
  --sp-text: #906060;
  --sp-text-bright: #d09090;
  --sp-toolbar: #100a0a;
  --sp-toolbar-border: #281414;
  --sp-btn: #1a0e0e;
  --sp-btn-hover: #281616;
  --sp-btn-active: #382020;
  --sp-freeze: #ffffff;
  --sp-key-white: #1a1010;
  --sp-key-white-active: #2a1818;
  --sp-key-black: #0c0808;
  --sp-key-black-active: #1a1010;
}

/* === BODY === */
#spectral-body {
  background: var(--sp-bg);
  display: flex;
  flex-direction: column;
  min-height: 500px;
  border-radius: 8px;
  overflow: hidden;
  user-select: none;
}

/* === TOOLBAR === */
.sp-toolbar {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 14px;
  background: var(--sp-toolbar);
  border-bottom: 1px solid var(--sp-toolbar-border);
  flex-shrink: 0;
  flex-wrap: wrap;
}

.sp-brand {
  font-family: 'SF Mono', 'Cascadia Code', 'Fira Code', 'Consolas', monospace;
  font-size: 12px;
  font-weight: 700;
  letter-spacing: 2px;
  color: var(--sp-accent);
  text-transform: uppercase;
  white-space: nowrap;
}

.sp-toolbar-group {
  display: flex;
  align-items: center;
  gap: 4px;
}

.sp-label {
  font-family: 'SF Mono', 'Cascadia Code', 'Fira Code', 'Consolas', monospace;
  font-size: 9px;
  font-weight: 600;
  letter-spacing: 1.5px;
  color: var(--sp-text);
  text-transform: uppercase;
  white-space: nowrap;
}

.sp-toolbar input[type="range"] {
  width: 55px;
  height: 4px;
  accent-color: var(--sp-accent);
  cursor: pointer;
}

.sp-toolbar-spacer {
  flex: 1;
}

.sp-hidden {
  display: none;
}

/* Source buttons */
.sp-source-btn {
  font-family: 'SF Mono', 'Cascadia Code', 'Fira Code', 'Consolas', monospace;
  font-size: 9px;
  font-weight: 700;
  letter-spacing: 1px;
  color: var(--sp-text);
  background: var(--sp-btn);
  border: 1px solid var(--sp-toolbar-border);
  border-radius: 3px;
  padding: 4px 8px;
  cursor: pointer;
  transition: background 0.15s, color 0.15s;
}

.sp-source-btn:hover {
  background: var(--sp-btn-hover);
  color: var(--sp-text-bright);
}

.sp-source-btn.active {
  background: var(--sp-btn-active);
  color: var(--sp-accent);
  border-color: var(--sp-accent);
}

/* Freeze button */
.sp-freeze-btn {
  font-family: 'SF Mono', 'Cascadia Code', 'Fira Code', 'Consolas', monospace;
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 2px;
  color: var(--sp-freeze);
  background: transparent;
  border: 2px solid var(--sp-freeze);
  border-radius: 4px;
  padding: 4px 14px;
  cursor: pointer;
  transition: background 0.15s, color 0.15s;
}

.sp-freeze-btn:hover {
  background: var(--sp-freeze);
  color: #000;
}

.sp-freeze-btn.frozen {
  background: var(--sp-freeze);
  color: #000;
  animation: sp-pulse 2s ease-in-out infinite;
}

@keyframes sp-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

/* Skin selector */
.sp-skin-selector {
  display: flex;
  align-items: center;
  gap: 5px;
}

.sp-skin-label {
  font-family: 'SF Mono', 'Cascadia Code', 'Fira Code', 'Consolas', monospace;
  font-size: 9px;
  font-weight: 600;
  letter-spacing: 1.5px;
  color: var(--sp-text);
  text-transform: uppercase;
}

.sp-skin-btn {
  width: 14px;
  height: 14px;
  border-radius: 50%;
  border: 2px solid transparent;
  cursor: pointer;
  transition: border-color 0.15s;
}

.sp-skin-btn[data-skin="acid"] { background: #ff2080; }
.sp-skin-btn[data-skin="chrome"] { background: #4080ff; }
.sp-skin-btn[data-skin="noise"] { background: #ff4040; }

.sp-skin-btn.active {
  border-color: rgba(255,255,255,0.5);
}

.sp-skin-btn:hover {
  border-color: rgba(255,255,255,0.3);
}

/* === FFT DISPLAY === */
.sp-display {
  flex: 1;
  position: relative;
  background: var(--sp-display);
  min-height: 300px;
  overflow: hidden;
}

#sp-canvas {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  display: block;
}

.sp-freeze-label {
  position: absolute;
  top: 10px;
  right: 12px;
  font-family: 'SF Mono', 'Cascadia Code', 'Fira Code', 'Consolas', monospace;
  font-size: 9px;
  font-weight: 700;
  letter-spacing: 2px;
  color: var(--sp-accent);
  opacity: 0.5;
  pointer-events: none;
}

.sp-freeze-label.frozen {
  color: var(--sp-freeze);
  opacity: 1;
}

/* === KEYBOARD === */
.sp-keyboard {
  display: flex;
  height: 80px;
  background: var(--sp-bg);
  border-top: 1px solid var(--sp-toolbar-border);
  position: relative;
  flex-shrink: 0;
}

.sp-key {
  flex: 1;
  position: relative;
  border-right: 1px solid rgba(255,255,255,0.03);
  cursor: pointer;
  transition: background 0.08s;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  padding-bottom: 6px;
}

.sp-key-white {
  background: var(--sp-key-white);
}

.sp-key-white.active {
  background: var(--sp-key-white-active);
}

.sp-key-black {
  background: var(--sp-key-black);
}

.sp-key-black.active {
  background: var(--sp-key-black-active);
}

.sp-key-label {
  font-family: 'SF Mono', 'Cascadia Code', 'Fira Code', 'Consolas', monospace;
  font-size: 8px;
  color: var(--sp-text);
  opacity: 0.4;
  pointer-events: none;
}

.sp-key.active .sp-key-label {
  color: var(--sp-accent);
  opacity: 0.8;
}

/* === MOBILE === */
@media (max-width: 768px) {
  .sp-toolbar {
    padding: 6px 10px;
    gap: 6px;
  }

  .sp-brand {
    font-size: 10px;
  }

  .sp-toolbar input[type="range"] {
    width: 40px;
  }

  .sp-display {
    min-height: 200px;
  }

  .sp-keyboard {
    height: 60px;
  }

  .sp-skin-selector {
    display: none;
  }
}
